# 从6.4号开始没日没夜的做业务，暂停了一切调研。回头发现产出不少，进步不多，周记恢复。
---
1. 要不就watch.immediate ，要不就created初始化，不然v-if+首次传值过不来
2. input框最终通过父级click解决了(超哥提供方案)
3. <list-item> 设计成padding-left、right有两个原因：1点击态、2可以单独使用、3与form-field统一
4. 小程序奇葩的代码拉伸，最终用dpx解决了
5. getData是保留字，methods不要用
6. validateForm 时候是reject，validateFiled的时候好像报错一样，尴尬，目前所有非最终抛出的接口都resolved，然后errorFirst
7. 开发者工具，prop报错，例如model，竟然报正常代码
8. 子组件给使用v-model的父组件发任意事件会直接往change上发，尴尬
9. created 竟然不触发。
10. 有个bug！
``` js
/**
 * setModelVal 设置值
 *
 * @param {string} formNs 命名空间
 * @param {string} path 设置路径
 * @param {string} value tiem的值
 */
export const setModelVal = options => {
    // * 规定：model只能一层
    const {formNs, value, dataset, prop} = options;
    const fieldId = genFieldId({dataset, prop});
    if (value && forms[formNs]) { // value 可以是空
        const model = forms[formNs].model;
        model[fieldId] = value;
    }
};
```
11. 必须这样，而不是直接赋值，不然无法渲染 `this.$nextTick(() => this.steps[0].proc = proc);`
12. ”不保留“时，清空数据，注意，如果是数组套对象，则要手动清空
13. zw-lib 通常要增加组件，不满足需求就要扩展，进度不一样，环境不一样，回归都是我，所以一定要留buffer，并提卡给qa测试
14. splice还是有用的，例如筛选组件header不渲染，init之后splice就渲染了
15. filters 有bug，在filter-header 用了有问题
16. swanjs 3.70.50有diff： 子元素在父元素之前created, 那么vue node时机是？
17. 竟然用data做变量
18. filter如果在created里面forEach筛选项，会有渲染问题，v-if 解决，但是慢
19. 安卓 11.13.5.12 可以； 11.12.0.10 不行，但远程调试可以， ios可以


### 重要问题：
1. 如何检测表单改动？回填都会改动，v-model 和 @input/change解出来
2. 回填校验，回填需要时间，而且拿不到。所以两套校验
3. v-if slot 是不行的
4. 小程序 splice(0, 0) 是不行的？有时也行。。